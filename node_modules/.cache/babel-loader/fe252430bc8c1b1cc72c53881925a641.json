{"ast":null,"code":"import history from \"../history\";\n\nclass UserService {\n  static async login(email, password) {\n    fetch(this.BACKEND_URL + \"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(response => {\n      if (response.status === 200) return response.json();\n      throw Error(\"Error while logging in, please try again!\");\n    }).then(token => {\n      console.log(token);\n      localStorage.setItem(\"token\", token.token);\n      history.push(\"/main\");\n    }).catch(err => {\n      localStorage.removeItem(\"token\");\n      console.log(err);\n    });\n  }\n\n}\n\nUserService.BACKEND_URL = \"http://34.65.9.234:23456/api/v1/users\";\nexport default UserService;","map":{"version":3,"sources":["/Users/User/Desktop/tpv-fe/src/services/userService.js"],"names":["history","UserService","login","email","password","fetch","BACKEND_URL","method","headers","body","JSON","stringify","then","response","status","json","Error","token","console","log","localStorage","setItem","push","catch","err","removeItem"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,YAApB;;AAEA,MAAMC,WAAN,CAAkB;AAEE,eAALC,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAkB;AAClCC,IAAAA,KAAK,CAAC,KAAKC,WAAL,GAAmB,QAApB,EAA8B;AACjCC,MAAAA,MAAM,EAAE,MADyB;AAEjCC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFwB;AAGjCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBR,QAAAA,KADmB;AAEnBC,QAAAA;AAFmB,OAAf;AAH2B,KAA9B,CAAL,CAQGQ,IARH,CAQSC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B,OAAOD,QAAQ,CAACE,IAAT,EAAP;AAC7B,YAAMC,KAAK,CAAC,2CAAD,CAAX;AACD,KAXH,EAYGJ,IAZH,CAYSK,KAAD,IAAW;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,KAAK,CAACA,KAApC;AACAjB,MAAAA,OAAO,CAACsB,IAAR,CAAa,OAAb;AACD,KAhBH,EAiBGC,KAjBH,CAiBUC,GAAD,IAAS;AACdJ,MAAAA,YAAY,CAACK,UAAb,CAAwB,OAAxB;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,KApBH;AAqBD;;AAxBe;;AAAZvB,W,CACGK,W,GAAc,uC;AA0BvB,eAAeL,WAAf","sourcesContent":["import history from \"../history\";\n\nclass UserService {\n  static BACKEND_URL = \"http://34.65.9.234:23456/api/v1/users\";\n  static async login(email, password) {\n    fetch(this.BACKEND_URL + \"/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    })\n      .then((response) => {\n        if (response.status === 200) return response.json();\n        throw Error(\"Error while logging in, please try again!\");\n      })\n      .then((token) => {\n        console.log(token);\n        localStorage.setItem(\"token\", token.token);\n        history.push(\"/main\");\n      })\n      .catch((err) => {\n        localStorage.removeItem(\"token\");\n        console.log(err);\n      });\n  }\n}\n\nexport default UserService;\n"]},"metadata":{},"sourceType":"module"}